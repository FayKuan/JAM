<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <title>結帳中心</title>
    <link rel="stylesheet" href="../assets/css/checkout.css">
</head>

<body>
    <header class="logo">
        <a href="../index.html"><img src="../assets/picture/logo/logo.png" alt="Jamure Logo"></a>
        <div class="progress-bar">
            <div class="step"><span>我的購物車</span>
                <div class="dot"></div>
            </div>
            <div class="step1"><span>填寫資料</span>
                <div class="dot1"></div>
            </div>
            <div class="step"><span>訂單成立</span>
                <div class="dot"></div>
            </div>
        </div>
    </header>

    <div class="container">
        <div id="step-1" class="card">
            <h2>1. 確認訂單與資訊</h2>

            <div id="order-list"></div>

            <div>
                <input type="text" id="coupon-code" placeholder="輸入優惠碼 (例: SAVE10)" >
                <button onclick="applyCoupon()" class="btn-secondary">使用</button>
            </div>
            <h3 id="final-total" style="text-align: right;"></h3>

            <hr>

            <h3>收件人資訊</h3>
            <input type="text" id="name" placeholder="收件人姓名" required>
            <input type="text" id="address" placeholder="收件地址" required>
            <input type="tel" id="phone" placeholder="電話號碼" required>

            <button onclick="showStep2()">下一步：選擇付款方式</button>
        </div>

        <div id="step-2" class="card">
            <h2>💳 2. 付款方式</h2>

            <div id="confirm-box">
                <p>確認收件資訊：</p>
                <p id="confirm-text"></p>
            </div>

            <div>
                <label><input type="radio" name="pay" value="credit" checked onchange="togglePaymentDisplay()"> 💳
                    信用卡</label>
                <label><input type="radio" name="pay" value="linepay" onchange="togglePaymentDisplay()"> 🟢 LINE
                    Pay</label>
                <label><input type="radio" name="pay" value="cod" onchange="togglePaymentDisplay()"> 🏪 貨到付款</label>
            </div>

            <div id="payment-credit" class="payment-method-box">
                <input type="text" maxlength="19" placeholder="卡號：xxxx xxxx xxxx xxxx">
                <div style="display: flex; gap: 10px;">
                    <input type="text" maxlength="5" placeholder="有效期限 MM/YY">
                    <input type="password" maxlength="3" placeholder="CVC 安全碼">
                </div>
            </div>

            <div id="payment-linepay" class="payment-method-box"
                style="display: none; text-align: center; padding: 20px;">
                <p>點擊「完成購買」後，將導向 LINE Pay 認證視窗 🟢</p>
            </div>

            <div id="payment-cod" class="payment-method-box" style="display: none; text-align: center; padding: 20px;">
                <p>商品抵達時，請將現金交給物流人員 🏪</p>
            </div>

            <button onclick="showStep3()" style="background-color: #5d3f2d;">完成購買</button>
            <button onclick="backToStep1()" style="background: #e0e0e0; color: #666; margin-top: 10px;">返回修改資訊</button>
        </div>

        <div id="step-3" class="card" style="text-align: center;">
            <div class="thank-you-msg">
                <h1 style="font-size: 45px; margin-bottom: 10px;">THANK YOU! ✨</h1>
                <p style="font-size: 1.1em;">感謝您的購買！<br>我們已收到您的訂單，將盡快為您出貨。</p>
            </div>
            <div style="margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px;">
                <button onclick="finishAll()">返回首頁繼續購物</button>
            </div>
        </div>
    </div>

    <script src="../assets/js/cart.js"></script>
</body>

</html>